<?xml version="1.0"?>
<launch>

    <arg name="orbbec_camera" default="true"/>
    <arg name="rplidar_a3" default="true"/>
    <arg name="um7_imu" default="true"/>

    <group if="$(arg um7_imu)">
        <node pkg="um7" type="um7_driver" name="imu_driver">
            <param name="port" value="/dev/imu"/>
            <param name="mag_updates" value="false"/>
            <param name="tf_ned_to_enu" value="false"/>
            <param name="frame_id" value="imu"/>
            <remap from="imu" to="imu"/>
        </node>
    </group>

    <!-- Include Orbbec Camera -->
    <group if="$(arg orbbec_camera)">
      <include file="$(find astra_camera)/launch/astrapro.launch"></include>
    </group>

    <!-- Include RPLidar A3 Driver -->

    <group if="$(arg rplidar_a3)">
      <node name="lidar_1" pkg="rplidar_ros" type="rplidarNode" output="screen" respawn="true">
        <param name="serial_port" value="/dev/rplidar"/>
        <param name="serial_baudrate" value="256000"/>
        <param name="frame_id" value="lidar"/>
        <param name="scan_mode"           type="string" value="Sensitivity"/>
        <param name="inverted"            type="bool"   value="false"/>
        <param name="angle_compensate"    type="bool"   value="true"/>
        <remap from="scan" to="scan_filtered"/>
     </node>
    </group>

</launch>
